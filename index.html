<!DOCTYPE html>

<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8"></meta>
    <title>Imyibutsa</title>
    <link rel="stylesheet" href="styles.css"></link>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="script.js"></script>
    <title>Imyibutsa</title>

</head>

<body id="body">
    <div class="main-container">
        <h3>Proverbes avec JavaScript</h3>
        <div class="progress-bar" ></div>
        <div class="form-container" >
            <p>Ecris le proverbe ici!</p>
            <textarea name="" id="input-value" cols="30" rows="10"></textarea>
            <br>
            <button class="ajouter" onclick="ajouter()">Ajouter</button>
        </div>
    
        <div id="conteneur" >

        </div>
        <div class="tips" >Survoler les div pour afficher les bouttons cachés</div>
    </div>
</body>

<script>
    function creerBoutonElement(innerHTML,classe){
        const btn = document.createElement("button")
        btn.innerHTML=innerHTML
        btn.setAttribute("class",classe)
        return btn
    }
    function addBoutons(parent){
        const btnDiv = document.createElement("div")
        btnDiv.setAttribute("class","buttons-group")

        const btnDelete = creerBoutonElement("Supprimer","btn-delete")
        const btnModifiy = creerBoutonElement("Modifier","btn-modify")

        //ajout des fonctions quand on clique sur modifier ou supprimer
        //supprimer : 
        btnDelete.addEventListener("click", function () {

            function supprimer() {
            const umwibutsa = document.getElementById("input-value")
            var a = document.getElementById("conteneur");
            var item = document.getElementById(conteneur.value);
            a.remove(item)

           

        }
            alert("Supprimé ")
        },false)

        btnModifiy.addEventListener("click",()=>{
            //vous ecrivez votre code de modification ici !
            alert("Modifié cliqué ")
        },false)


        btnDiv.appendChild(btnDelete)
        btnDiv.appendChild(btnModifiy)

        parent.appendChild(btnDiv)

        //afficher les boutons quand le curseur survole le div
        parent.addEventListener("mouseenter",()=>{
            btnDiv.style.display="flex";
        },false)

        // enlever les boutons quand le curseur sort du div
        parent.addEventListener("mouseleave",()=>{
            btnDiv.style.display="none";
        },false)
    };
    function ajouter(){
        const child = document.createElement("div")
        const umwibutsa = document.getElementById("input-value")
        if(umwibutsa.value.trim()=="" || umwibutsa.value.trim().length<10)
            alert("Proverbe invalide !")
        else{
            child.innerHTML=umwibutsa.value
            child.setAttribute("class","umwibutsa")
            const parent = document.getElementById("conteneur")
            addBoutons(child)
            parent.appendChild(child);
        }
    }
    
    
    
</script>

</html>